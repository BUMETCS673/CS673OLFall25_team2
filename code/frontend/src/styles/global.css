/*
 AI-generated code: 40%
   tool: Gmini
   functions/classes: scrollbar parts, initial structure and logic
   AI chat links: https://gemini.google.com/app/2a81e11db0eaa308
 Human code: 50%
   classes/selectors: html, body, #root, :root, header, footer, .dropdown-panel, .filter-button, .jobs-list, .job-details, .card.job-card, aside.bg-body, main.bg-body, section.bg-body, .joblist-container, .welcome-text, .min-h-0, .list-group-item.active
 Framework-generated code: 0%
*/

html,
body,
#root {
  height: 100%;
  font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif;
}

body {
  overflow: hidden;
}

/* mobile-safe */
body {
  margin: 0;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
    Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
  background-color: #f8f9fa;
}

/* Ensure main section fills available space (mobile) */
@media (max-width: 991.98px) {
  section[role="main"] {
    height: calc(100dvh - 60px); /* adjust if needed */
    overflow: hidden;
  }

  section[role="main"] > .flex-grow-1 {
    overflow-y: auto;
  }
}

/* Utility used throughout the layout */
.min-h-0 {
  min-height: 0 !important;
}

/* Center root for debugging only */
#root {
  text-align: center;
}

/* Light Theme Variables (restored to original) */
:root {
  --bg: #ffffff; /* Page main background */
  --fg: #000000; /* Main font */
  --surface: #f8f9fa; /* Card/section background (restored to light gray) */
  --border: #dee2e6; /* Border color */

  /* Unified background for Header and Footer (restored to pure white) */
  --header-footer-bg: #ffffff;

  /* Bootstrap adaptation */
  --bs-body-bg: var(--bg);
  --bs-body-color: var(--fg);
  --bs-border-color: var(--border);
  --bs-link-color: #0000ff;
  --bs-link-hover-color: #bbd5fc;

  /* Selected Card */
  --selected-border: rgb(98, 216, 255);
  --selected-bg: rgb(98, 216, 255);
  --selected-color: #000000;
}

/* Offcanvas width tuned for filters */
.offcanvas-start {
  width: 80%;
  max-width: 320px;
}

/* Prevent layout shifts on small screens */
@media (max-width: 991.98px) {
  aside.bg-body {
    display: none !important;
  }
}

/* Dark Theme Variables (keep the new color scheme) */
:root[data-theme='dark'] {
  --bg: #343541; /* Page main background */
  --fg: #ececf1; /* Font color */
  --surface: #282828; /* Card/content/aside background */
  --border: #565869; /* Border color (slightly darker than surface) */

  /* Header and Footer dark mode background */
  --header-footer-bg: #1a1a1a;

  /* Bootstrap adaptation */
  --bs-body-bg: var(--bg);
  --bs-body-color: var(--fg);
  --bs-border-color: var(--border);
  --bs-link-color: #10a37f;
  --bs-link-hover-color: #1ec997;

  /* Selected Card */
  --selected-border: #b1b1b1;
  --selected-bg: rgba(30, 118, 205, 0.1);
  --selected-color: #ffffff;

  /* Override Bootstrap dropdown background and text color */
  --bs-dropdown-bg: #282828; /* Dropdown background */
  --bs-dropdown-color: #7c7070; /* Dropdown text color */
  --bs-dropdown-link-color: #ffffff; /* Dropdown option text */
  --bs-dropdown-link-hover-bg: #3a3a3a; /* Hover background */
  --bs-border-color: #444; /* Border color */

  /* Override form input colors */
  --bs-form-control-bg: #212529;
  --bs-form-control-color: var(--fg);
}
/* Theme for Aside mobile version */
.theme-btn {
  /* outline-style button that references theme colors */
  background: transparent;
  color: var(--fg) !important;
  border: 1.5px solid var(--fg) !important;
  font-weight: 600;
}
.theme-btn:hover,
.theme-btn:focus {
  /* invert on hover/focus for clear affordance */
  background: var(--fg) !important;
  color: var(--bg) !important;
}
.theme-btn:active {
  opacity: 0.9;
}
.theme-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Ensure the sticky container blends with the current theme */
@media (max-width: 991.98px) {
  section[role="main"] .sticky-top.bg-body {
    background-color: var(--surface) !important;
    border-color: var(--surface-border-color) !important;
  }
}

/* Placeholder color in dark mode */
:root[data-theme='dark'] input::placeholder,
:root[data-theme='dark'] textarea::placeholder {
  color: rgba(255, 255, 255, 0.6); /* Semi-transparent white */
}

:root {
  --header-border-color: rgb(0, 0, 255);
}

/* Updated for dark mode */
:root[data-theme='dark'] {
  --header-border-color: var(--border); /* Uses theme gray (#565869) */
}

/* Dark mode: make Filter buttons border more visible */
:root[data-theme='dark'] .btn {
  border: 1.5px solid var(--fg) !important;
  color: var(--fg) !important;
}

/* Highlight border on hover */
:root[data-theme='dark'] .btn:hover {
  border-color: #ffffff !important;
}

:root {
  --surface-bg: #ffffff;
  --surface-border: #dee2e6;
  --surface-border-color: var(--surface-border);
}

:root[data-theme='dark'] {
  --surface-bg: #1e1e1e;
  --surface-border: #444;
  --surface-border-color: var(--surface-border);
}

/* Dark mode only */
:root[data-theme='dark'] {
  /* Scrollbar width */
  --scrollbar-width: 12px;
}

/* Scrollbars inside JobsViewList and JobCard */
:root[data-theme='dark'] .jobs-list,
:root[data-theme='dark'] .job-details,
:root[data-theme='dark'] .card.job-card {
  scrollbar-width: thin; /* Firefox */
  scrollbar-color: #555 #1e1e1e; /* Firefox: thumb / track color */
}

/* Webkit browsers */
:root[data-theme='dark'] .jobs-list::-webkit-scrollbar,
:root[data-theme='dark'] .job-details::-webkit-scrollbar,
:root[data-theme='dark'] .card.job-card::-webkit-scrollbar {
  width: var(--scrollbar-width);
}

:root[data-theme='dark'] .jobs-list::-webkit-scrollbar-track,
:root[data-theme='dark'] .job-details::-webkit-scrollbar-track,
:root[data-theme='dark'] .card.job-card::-webkit-scrollbar-track {
  background: #1e1e1e;
}

:root[data-theme='dark'] .jobs-list::-webkit-scrollbar-thumb,
:root[data-theme='dark'] .job-details::-webkit-scrollbar-thumb,
:root[data-theme='dark'] .card.job-card::-webkit-scrollbar-thumb {
  background-color: #555;
  border-radius: 6px;
  border: 3px solid #1e1e1e;
}

:root[data-theme='dark'] .jobs-list::-webkit-scrollbar-thumb:hover,
:root[data-theme='dark'] .job-details::-webkit-scrollbar-thumb:hover,
:root[data-theme='dark'] .card.job-card::-webkit-scrollbar-thumb:hover {
  background-color: #777;
}

/* Apply theme */
body {
  background: var(--bg);
  color: var(--fg);
}

/* Content area uses surface color */
aside.bg-body,
main.bg-body,
section.bg-body,
.joblist-container {
  background-color: var(--surface) !important;
  color: var(--fg) !important;
  border-color: var(--bs-border-color) !important;
}

/*
  Set unified background and border for header and footer.
  Use tag + .bg-body to ensure highest priority
*/
header,
header.bg-body,
footer,
footer.bg-body {
  background-color: var(--header-footer-bg) !important;
  color: var(--fg) !important;
}

header,
header.bg-body {
  border-bottom: 1px solid var(--bs-border-color) !important;
  border-top: none; /* Ensure no top border for header */
}

footer,
footer.bg-body {
  border-top: 1px solid var(--bs-border-color) !important;
  border-bottom: none; /* Ensure no bottom border for footer */
}

/* Selected list-group-item */
.list-group-item.active {
  background-color: var(--selected-bg) !important;
  color: var(--selected-color) !important;
  border-radius: 0.5rem;
  transition: all 0.2s ease;
}

/* New rule for welcome text in dark mode */
:root[data-theme='dark'] .welcome-text {
  color: var(--fg);
}

/* Universal floating panel: Light/Dark switch automatically */
.dropdown-panel {
  background-color: var(--surface) !important; /* light: white, dark: dark */
  color: var(--fg) !important;
  border-color: var(--surface-border-color) !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  max-height: 80vh;
  overflow: auto;
  z-index: 1060;
}

/* Inputs inside dropdown */
.dropdown-panel input.form-control {
  background-color: var(--bs-form-control-bg) !important;
  color: var(--bs-form-control-color) !important;
  border-color: var(--bs-border-color) !important;
}

/* List items inside dropdown */
.dropdown-panel .list-group-item {
  background-color: var(--surface) !important;
  color: var(--fg) !important;
  border-color: var(--surface-border-color) !important;
}

/* List item hover */
.dropdown-panel .list-group-item:hover {
  background-color: rgba(255, 255, 255, 0.05); /* Dark mode highlight */
}

/* Scrollbar */
.dropdown-panel::-webkit-scrollbar {
  width: 12px;
}

.dropdown-panel::-webkit-scrollbar-track {
  background: var(--surface) !important;
}

.dropdown-panel::-webkit-scrollbar-thumb {
  background-color: #555 !important;
  border-radius: 6px;
  border: 3px solid var(--surface) !important;
}

.dropdown-panel::-webkit-scrollbar-thumb:hover {
  background-color: #777 !important;
}

/* Firefox scrollbar */
.dropdown-panel {
  scrollbar-width: thin;
  scrollbar-color: #555 var(--surface);
}

.btn-outline-secondary.filter-button:hover {
  background-color: rgb(0, 229, 255) !important;
  color: #fff;
  transition: all 0.2s ease;
}

.filter-button:hover {
  background-color: rgb(0, 229, 255) !important;
  color: rgb(255, 255, 255);
  transition: all 0.2s ease;
}

/* Make sure columns inside .row can shrink below content height */
.row.min-h-0 > [class*='col'] {
  min-height: 0;
  flex-shrink: 1;
}

/* Ensure job panels fit in the viewport */
.jobs-list,
.job-details {
  max-height: calc(
    100vh - 180px
  ) !important; /* Account for header, footer, and some padding */
}

/* Ensure content fills available space but doesn't overflow */
.row > [class*='col'] {
  display: flex;
  flex-direction: column;
  min-height: 0;
}
